var d=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports);var V=d((Xe,_)=>{"use strict";var W=require("fs");_.exports=e=>new Promise(t=>{W.access(e,s=>{t(!s)})});_.exports.sync=e=>{try{return W.accessSync(e),!0}catch(t){return!1}}});var H=d((et,S)=>{"use strict";var Y=(e,...t)=>new Promise(s=>{s(e(...t))});S.exports=Y;S.exports.default=Y});var K=d((tt,M)=>{"use strict";var ke=H(),Z=e=>{if(!((Number.isInteger(e)||e===Infinity)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let t=[],s=0,r=()=>{s--,t.length>0&&t.shift()()},o=(f,y,...b)=>{s++;let n=ke(f,...b);y(n),n.then(r,r)},l=(f,y,...b)=>{s<e?o(f,y,...b):t.push(o.bind(null,f,y,...b))},p=(f,...y)=>new Promise(b=>l(f,b,...y));return Object.defineProperties(p,{activeCount:{get:()=>s},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),p};M.exports=Z;M.exports.default=Z});var ee=d((st,Q)=>{"use strict";var X=K(),L=class extends Error{constructor(t){super();this.value=t}},je=(e,t)=>Promise.resolve(e).then(t),Ie=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new L(t[0])));Q.exports=(e,t,s)=>{s=Object.assign({concurrency:Infinity,preserveOrder:!0},s);let r=X(s.concurrency),o=[...e].map(p=>[p,r(je,p,t)]),l=X(s.preserveOrder?1:Infinity);return Promise.all(o.map(p=>l(Ie,p))).then(()=>{}).catch(p=>p instanceof L?p.value:Promise.reject(p))}});var re=d((rt,N)=>{"use strict";var te=require("path"),se=V(),Ee=ee();N.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),Ee(e,s=>se(te.resolve(t.cwd,s)),t));N.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(let s of e)if(se.sync(te.resolve(t.cwd,s)))return s}});var ie=d((nt,D)=>{"use strict";var w=require("path"),ne=re();D.exports=(e,t={})=>{let s=w.resolve(t.cwd||""),{root:r}=w.parse(s),o=[].concat(e);return new Promise(l=>{(function p(f){ne(o,{cwd:f}).then(y=>{y?l(w.join(f,y)):f===r?l(null):p(w.dirname(f))})})(s)})};D.exports.sync=(e,t={})=>{let s=w.resolve(t.cwd||""),{root:r}=w.parse(s),o=[].concat(e);for(;;){let l=ne.sync(o,{cwd:s});if(l)return w.join(s,l);if(s===r)return null;s=w.dirname(s)}}});var ce=d((it,B)=>{"use strict";var oe=ie();B.exports=async({cwd:e}={})=>oe("package.json",{cwd:e});B.exports.sync=({cwd:e}={})=>oe.sync("package.json",{cwd:e})});var ue=d((ot,ae)=>{var x=1e3,k=x*60,j=k*60,O=j*24,Re=O*7,qe=O*365.25;ae.exports=function(e,t){t=t||{};var s=typeof e;if(s==="string"&&e.length>0)return Pe(e);if(s==="number"&&isFinite(e))return t.long?Te(e):Ae(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Pe(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var s=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return s*qe;case"weeks":case"week":case"w":return s*Re;case"days":case"day":case"d":return s*O;case"hours":case"hour":case"hrs":case"hr":case"h":return s*j;case"minutes":case"minute":case"mins":case"min":case"m":return s*k;case"seconds":case"second":case"secs":case"sec":case"s":return s*x;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}function Ae(e){var t=Math.abs(e);return t>=O?Math.round(e/O)+"d":t>=j?Math.round(e/j)+"h":t>=k?Math.round(e/k)+"m":t>=x?Math.round(e/x)+"s":e+"ms"}function Te(e){var t=Math.abs(e);return t>=O?R(e,t,O,"day"):t>=j?R(e,t,j,"hour"):t>=k?R(e,t,k,"minute"):t>=x?R(e,t,x,"second"):e+" ms"}function R(e,t,s,r){var o=t>=s*1.5;return Math.round(e/s)+" "+r+(o?"s":"")}});var U=d((ct,le)=>{function _e(e){s.debug=s,s.default=s,s.coerce=y,s.disable=l,s.enable=o,s.enabled=p,s.humanize=ue(),s.destroy=b,Object.keys(e).forEach(n=>{s[n]=e[n]}),s.names=[],s.skips=[],s.formatters={};function t(n){let i=0;for(let c=0;c<n.length;c++)i=(i<<5)-i+n.charCodeAt(c),i|=0;return s.colors[Math.abs(i)%s.colors.length]}s.selectColor=t;function s(n){let i,c=null;function C(...g){if(!C.enabled)return;let v=C,I=Number(new Date),ve=I-(i||I);v.diff=ve,v.prev=i,v.curr=I,i=I,g[0]=s.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let E=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(T,Oe)=>{if(T==="%%")return"%";E++;let z=s.formatters[Oe];if(typeof z=="function"){let xe=g[E];T=z.call(v,xe),g.splice(E,1),E--}return T}),s.formatArgs.call(v,g),(v.log||s.log).apply(v,g)}return C.namespace=n,C.useColors=s.useColors(),C.color=s.selectColor(n),C.extend=r,C.destroy=s.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>c===null?s.enabled(n):c,set:g=>{c=g}}),typeof s.init=="function"&&s.init(C),C}function r(n,i){let c=s(this.namespace+(typeof i=="undefined"?":":i)+n);return c.log=this.log,c}function o(n){s.save(n),s.names=[],s.skips=[];let i,c=(typeof n=="string"?n:"").split(/[\s,]+/),C=c.length;for(i=0;i<C;i++)!c[i]||(n=c[i].replace(/\*/g,".*?"),n[0]==="-"?s.skips.push(new RegExp("^"+n.substr(1)+"$")):s.names.push(new RegExp("^"+n+"$")))}function l(){let n=[...s.names.map(f),...s.skips.map(f).map(i=>"-"+i)].join(",");return s.enable(""),n}function p(n){if(n[n.length-1]==="*")return!0;let i,c;for(i=0,c=s.skips.length;i<c;i++)if(s.skips[i].test(n))return!1;for(i=0,c=s.names.length;i<c;i++)if(s.names[i].test(n))return!0;return!1}function f(n){return n.toString().substring(2,n.toString().length-2).replace(/\.\*\?$/,"*")}function y(n){return n instanceof Error?n.stack||n.message:n}function b(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}le.exports=_e});var pe=d((m,q)=>{m.formatArgs=Se;m.save=Me;m.load=Le;m.useColors=Ne;m.storage=De();m.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();m.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Ne(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Se(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+q.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let s=0,r=0;e[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(s++,o==="%c"&&(r=s))}),e.splice(r,0,t)}m.log=console.debug||console.log||(()=>{});function Me(e){try{e?m.storage.setItem("debug",e):m.storage.removeItem("debug")}catch(t){}}function Le(){let e;try{e=m.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function De(){try{return localStorage}catch(e){}}q.exports=U()(m);var{formatters:Be}=q.exports;Be.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var fe=d((at,de)=>{"use strict";de.exports=(e,t=process.argv)=>{let s=e.startsWith("-")?"":e.length===1?"-":"--",r=t.indexOf(s+e),o=t.indexOf("--");return r!==-1&&(o===-1||r<o)}});var ge=d((ut,me)=>{"use strict";var Ue=require("os"),Ce=require("tty"),h=fe(),{env:a}=process,F;h("no-color")||h("no-colors")||h("color=false")||h("color=never")?F=0:(h("color")||h("colors")||h("color=true")||h("color=always"))&&(F=1);"FORCE_COLOR"in a&&(a.FORCE_COLOR==="true"?F=1:a.FORCE_COLOR==="false"?F=0:F=a.FORCE_COLOR.length===0?1:Math.min(parseInt(a.FORCE_COLOR,10),3));function G(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function $(e,t){if(F===0)return 0;if(h("color=16m")||h("color=full")||h("color=truecolor"))return 3;if(h("color=256"))return 2;if(e&&!t&&F===void 0)return 0;let s=F||0;if(a.TERM==="dumb")return s;if(process.platform==="win32"){let r=Ue.release().split(".");return Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in a)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(r=>r in a)||a.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in a)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(a.TEAMCITY_VERSION)?1:0;if(a.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in a){let r=parseInt((a.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(a.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(a.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(a.TERM)||"COLORTERM"in a?1:s}function Ge(e){let t=$(e,e&&e.isTTY);return G(t)}me.exports={supportsColor:Ge,stdout:G($(!0,Ce.isatty(1))),stderr:G($(!0,Ce.isatty(2)))}});var ye=d((u,P)=>{var $e=require("tty"),A=require("util");u.init=Je;u.log=ze;u.formatArgs=We;u.save=Ve;u.load=Ye;u.useColors=He;u.destroy=A.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");u.colors=[6,2,3,4,5,1];try{let e=ge();e&&(e.stderr||e).level>=2&&(u.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}u.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let s=t.substring(6).toLowerCase().replace(/_([a-z])/g,(o,l)=>l.toUpperCase()),r=process.env[t];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),e[s]=r,e},{});function He(){return"colors"in u.inspectOpts?Boolean(u.inspectOpts.colors):$e.isatty(process.stderr.fd)}function We(e){let{namespace:t,useColors:s}=this;if(s){let r=this.color,o="[3"+(r<8?r:"8;5;"+r),l=`  ${o};1m${t} [0m`;e[0]=l+e[0].split(`
`).join(`
`+l),e.push(o+"m+"+P.exports.humanize(this.diff)+"[0m")}else e[0]=Ze()+t+" "+e[0]}function Ze(){return u.inspectOpts.hideDate?"":new Date().toISOString()+" "}function ze(...e){return process.stderr.write(A.format(...e)+`
`)}function Ve(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function Ye(){return process.env.DEBUG}function Je(e){e.inspectOpts={};let t=Object.keys(u.inspectOpts);for(let s=0;s<t.length;s++)e.inspectOpts[t[s]]=u.inspectOpts[t[s]]}P.exports=U()(u);var{formatters:he}=P.exports;he.o=function(e){return this.inspectOpts.colors=this.useColors,A.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};he.O=function(e){return this.inspectOpts.colors=this.useColors,A.inspect(e,this.inspectOpts)}});var be=d((lt,J)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?J.exports=pe():J.exports=ye()});var Fe=d((pt,we)=>{we.exports={version:"2.18.0",name:"prisma",description:"Prisma is an open-source database toolkit. It includes a JavaScript/TypeScript ORM for Node.js, migrations and a modern GUI to view and edit the data in your database. You can use Prisma in new projects or add it to an existing one.",keywords:["orm","prisma2","prisma","cli","database","sql","postgresql","mysql","sqlite","mariadb","mssql","typescript","query-builder"],main:"build/index.js",repository:"git@github.com:prisma/prisma.git",homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",maintainers:["Tim Suchanek <suchanek@prisma.io>","Jo\xEBl Galeran <galeran@prisma.io>","William Luke <luke@prisma.io>"],bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",engines:{node:">=10.4"},prisma:{prismaCommit:"87d13fded344f1f387a8510f0fa23139444516c6"},files:["README.md","build","install","runtime/*.js","runtime/*.d.ts","runtime/utils","runtime/dist","prisma-client","preinstall","scripts/preinstall-entry.js","scripts/install-entry.js"],pkg:{assets:["build/**/*","runtime/**/*","prisma-client/**/*","download-build/**/*","node_modules/@prisma/engines/**/*","node_modules/@prisma/engines/*"]},bin:{prisma:"build/index.js",prisma2:"build/index.js"},devDependencies:{"@prisma/client":"2.18.0","@prisma/debug":"2.18.0","@prisma/fetch-engine":"2.18.0","@prisma/generator-helper":"2.18.0","@prisma/get-platform":"2.18.0","@prisma/migrate":"2.18.0","@prisma/sdk":"2.18.0","@prisma/studio":"0.356.0","@prisma/studio-server":"0.356.0","@timsuchanek/copy":"1.4.5","@types/jest":"26.0.20","@types/ws":"7.4.0","@typescript-eslint/eslint-plugin":"4.15.2","@typescript-eslint/parser":"4.15.2",chalk:"4.1.0","checkpoint-client":"1.1.19",dotenv:"8.2.0",esbuild:"0.8.53","escape-string-regexp":"4.0.0",eslint:"7.21.0","eslint-config-prettier":"7.2.0","eslint-plugin-eslint-comments":"3.2.0","eslint-plugin-jest":"24.1.5","eslint-plugin-prettier":"3.3.1",execa:"5.0.0","fast-deep-equal":"3.1.3","fs-jetpack":"4.1.0","get-port":"5.1.1","global-dirs":"3.0.0","indent-string":"4.0.0","is-installed-globally":"0.4.0",jest:"26.6.3","line-replace":"2.0.1","lint-staged":"10.5.4","log-update":"4.0.0","make-dir":"3.1.0","node-fetch":"2.6.1",open:"7.4.2",pg:"8.5.1",pkg:"4.4.9","pkg-up":"3.1.0",prettier:"2.2.1","replace-string":"3.1.0","resolve-pkg":"2.0.0",rimraf:"3.0.2","strip-ansi":"6.0.0",tempy:"1.0.0","ts-jest":"26.5.2",typescript:"4.2.2"},scripts:{"test:commands":"./fixtures/test.sh && jest --maxConcurrency=1","test-update":"pnpm run test:commands -- -u",test:"pnpm run test:commands",jest:"jest",install:"node scripts/install-entry.js",format:"prettier --write .",lint:"eslint --cache --fix --ext .ts .","lint-ci":"eslint --ext .ts .",tsc:"tsc -d -p tsconfig.build.json && bash scripts/copy-runtime-dist.sh",build:"node helpers/build.js",pkg:"pkg . -o pkg-build",prepublishOnly:"pnpm run build",preinstall:"node scripts/preinstall-entry.js",precommit:"lint-staged"},dependencies:{"@prisma/engines":"2.18.0-34.da6fafb57b24e0b61ca20960c64e2d41f9e8cff1"},"lint-staged":{"*.ts":["eslint","prettier --write"]}}});var fs=require("fs"),path=require("path"),pkgUp=ce(),Debug=be(),debug=Debug("prisma:install"),pkg=Fe(),pkgName=pkg.name;process.env.INIT_CWD&&process.env.NOW_BUILDER&&ensurePostInstall().catch(e=>{debug(e)});async function ensurePostInstall(){let initPkgPath=eval("require('path').resolve(process.env.INIT_CWD, 'package.json')");if(fs.existsSync(initPkgPath)){if(addPostInstallHook(initPkgPath))return}else{let e=path.join(process.cwd(),".."),t;do t=await pkgUp({cwd:e}),e=path.join(t,"../..");while(t&&!addPostInstallHook(t))}}function addPostInstallHook(e){let t=JSON.parse(fs.readFileSync(e,"utf-8"));return!t.dependencies[pkgName]&&!t.devDependencies[pkgName]?!1:(t.scripts=t.scripts||{},t.scripts.postinstall?t.scripts.postinstall.includes("prisma generate")||(t.scripts.postinstall=`prisma generate || true && ${t.scripts.postinstall}`):t.scripts.postinstall="prisma generate || true",fs.writeFileSync(e,JSON.stringify(t,null,2)),!0)}
